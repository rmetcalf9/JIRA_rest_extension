webpackJsonp([4],{169:function(t,e,r){function n(t){r(233)}var o=r(129)(r(216),r(242),n,null,null);t.exports=o.exports},174:function(t,e){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},175:function(t,e,r){t.exports=!r(176)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},176:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},177:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},178:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},179:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},180:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},181:function(t,e,r){var n=r(197),o=r(179);t.exports=function(t){return n(o(t))}},182:function(t,e,r){"use strict";e.a={joinStringArray:function(t,e){if(void 0===e&&(e=""),0===t.length)return"";if(1===t.length)return t[0];var r="";for(var n in t)r+=t[n]+e;return r.substr(0,r.length-e.length)},getIssueRetervialJQLArrayCriteria:function(t,e,r){r.length>0&&(1===r.length?t.push(e+"+%3D+"+r[0]):t.push(e+"+IN+("+this.joinStringArray(r,",")+")"))},getIssueRetervialJQL:function(t,e){var r=[];return this.getIssueRetervialJQLArrayCriteria(r,"project",t),this.getIssueRetervialJQLArrayCriteria(r,"issuetype",e),this.joinStringArray(r,"+AND+")+"+ORDER+BY+KEY"}}},183:function(t,e,r){"use strict";function n(t,e,r){var n=new Date("31-DEC-4712"),o=new Date("31-DEC-4712");null!==r.sprintid&&(n=t.sprints[r.sprintid].end),null!==e.sprintid&&(o=t.sprints[e.sprintid].end),n<o&&(null===e.sprintid?t.exceptions=i(t.exceptions,e.key,"Task not in sprint but associated user story needs to be delivered on "+n):t.exceptions=i(t.exceptions,e.key,"Task scheduled to be delivered after story"))}function o(t){f()(t.sprints).map(function(e,r){var n=t.sprints[e];n.hasTasks&&n.hasStories&&(t.exceptions=i(t.exceptions,"Sprint "+n.id,"Sprint has both tasks and stories")),n.hasTasks||n.hasStories||(t.exceptions=i(t.exceptions,"Sprint "+n.id,"Sprint has neither tasks nor stories"))})}function s(t,e){console.log("Failed to load JIRA data"),console.log(t),e.commit("ERRORED_LOADING"),e.callback.FAILcallback.method(t,e.callback.FAILcallback.params)}function a(t,e,r){var n={OKcallback:{method:function(t,e){for(var r=[],n=0;n<t.length;n++){var o=t[n].fields.customfield_10800;if("string"!=typeof o)e.forGlobalState.exceptions=i(e.forGlobalState.exceptions,t[n].key,"User story with no Epic set");else{var s=t[n].key,a=0;null==t[n].fields.customfield_10004?e.forGlobalState.exceptions=i(e.forGlobalState.exceptions,t[n].key,"User Story without estimate"):a=t[n].fields.customfield_10004;var u=l(t[n].fields.customfield_10501,t[n].key,e.forGlobalState,"Story",e.forGlobalState.epics[o]),p={id:t[n].id,key:s,summary:t[n].fields.summary,description:t[n].fields.description,epickey:o,tasks:[],status:t[n].fields.status.name,label_text:"FILLED IN LATER",story_points:a,summedStoryPoints:0,summedBurnedStoryPoints:0,rank:t[n].fields.customfield_11000,sprintid:u,completed:!1};e.forGlobalState.epics[o].user_stories[t[n].key]=p,r[s]=o}}c(e.commit,r,e.callback,e.forGlobalState)},params:{commit:t,callback:r,forGlobalState:e}},FAILcallback:{method:s,params:{commit:t,callback:r}}};v.a.dispatch("query",{jql:k.a.getIssueRetervialJQL(e.state.srcJiraData.storyProjects,["Story"]),callback:n})}function i(t,e,r){return t.push({key:e,msg:r}),t}function c(t,e,r,n){var o={OKcallback:{method:function(t,r){for(var o=0;o<t.length;o++)if(void 0===t[o].fields.customfield_11101||null===t[o].fields.customfield_11101)r.forGlobalState.exceptions=i(r.forGlobalState.exceptions,t[o].key,"Task without userstorykey set");else for(var s=0;s<t[o].fields.customfield_11101.length;s++){var a=t[o].fields.customfield_11101[s];if(void 0===a)r.forGlobalState.exceptions=i(r.forGlobalState.exceptions,t[o].key,"Task without invalid userstorykey set");else{var c=e[a];r.forGlobalState.epics[c].user_stories[a].tasks[t[o].key]={id:t[o].id,key:t[o].key,summary:t[o].fields.summary,description:t[o].fields.description,status:t[o].fields.status.name,story_points:t[o].fields.customfield_10004,rank:t[o].fields.customfield_11000,sprintid:l(t[o].fields.customfield_10501,t[o].key,r.forGlobalState,"Task",void 0)}}}r.commit("SAVE_EPICS",{forGlobalState:n}),r.commit("COMPLETED_LOADING"),r.callback.OKcallback.method({msg:"OK"},r.callback.OKcallback.params)},params:{commit:t,callback:r,forGlobalState:n}},FAILcallback:{method:s,params:{commit:t,callback:r}}};v.a.dispatch("query",{jql:k.a.getIssueRetervialJQL(n.state.srcJiraData.taskProjects,["Task"]),callback:o})}function u(t){var e=t.search("\\[id="),r=t.substr(e+1,t.length-(e+2)).split(",");r=r.map(function(t){var e=t.split("=");return{name:e[0],value:e[1]}});var n=function(t){var e=null;return r.forEach(function(r){r.name===t&&(e=r.value)}),e};return{id:parseInt(n("id")),name:n("name"),state:n("state"),start:new Date(n("startDate")),end:new Date(n("endDate")),complete:n("completeDate"),sequence:n("sequence"),hasTasks:!1,hasStories:!1,epics:[],epicsKeys:{}}}function l(t,e,r,n,o){if(null===t)return null;if(0===t.length)return null;var s=null;for(var a in t){var i=u(t[a]);void 0===r.sprints[i.id]&&(r.sprints[i.id]=i),null===s?s=i:i.start>s.start&&(s=i)}return"Task"===n?r.sprints[s.id].hasTasks=!0:"Story"===n&&(r.sprints[s.id].hasStories=!0),void 0!==o&&void 0===r.sprints[s.id].epicsKeys[o.key]&&(r.sprints[s.id].epics.push(o),r.sprints[s.id].epicsKeys[o.key]=o.key),s.id}var p=r(184),f=r.n(p),d=r(2),m=r(4),v=r(130),k=r(182),_={state:0,epics:[],exceptions:[],project:{progressPercantage:0,numUserStories:0,numPoints:0,numBurnedPoints:0,sprints:{}},srcJiraData:{epicProjects:["SPI"],storyProjects:["SPI"],taskProjects:["SPI"]}},h={START_LOADING:function(t){t.state=1},COMPLETED_LOADING:function(t){t.state=2},ERRORED_LOADING:function(t){t.state=3},SAVE_EPICS:function(t,e){t.epics=[];var r=e.forGlobalState.epics,s=0,a=0,c=0;for(var u in r){var l=0,p=[];if(void 0===r[u].key)console.log("ERROR Epic with Undefined key");else{var f=0,d=0;for(var m in r[u].user_stories){l++;var v=r[u].user_stories[m],k=[],_=v.story_points,h=0,b=0,y=0,g=0;for(var x in r[u].user_stories[m].tasks)y++,null!==r[u].user_stories[m].tasks[x].story_points&&g++,null!==h&&(null===r[u].user_stories[m].tasks[x].story_points?h=null:("Done"===r[u].user_stories[m].tasks[x].status&&(b+=r[u].user_stories[m].tasks[x].story_points),h+=r[u].user_stories[m].tasks[x].story_points)),n(e.forGlobalState,r[u].user_stories[m].tasks[x],r[u].user_stories[m]),k.push(r[u].user_stories[m].tasks[x]);g!==y&&(e.forGlobalState.exceptions=i(e.forGlobalState.exceptions,r[u].user_stories[m].key,"Story with some but not all Tasks estimated")),0===y?(h=null,r[u].user_stories[m].summedStoryPoints=v.story_points,r[u].user_stories[m].summedBurnedStoryPoints=0):(r[u].user_stories[m].summedStoryPoints=h,v.story_points>h&&(r[u].user_stories[m].summedStoryPoints=v.story_points),r[u].user_stories[m].summedBurnedStoryPoints=b,k=k.sort(function(t,e){return t.rank===e.rank?0:t.rank<e.rank?-1:1})),null!==v.sprintid&&h!==v.story_points&&(e.forGlobalState.exceptions=i(e.forGlobalState.exceptions,r[u].user_stories[m].key,"Story in sprint but estimate ("+v.story_points+") dosen't match sum of task story points ("+h+")")),r[u].user_stories[m].tasks=k,null!==h&&0!==h&&(_=b+"/"+h+" ",_+=Math.round(100*b/h),_+="%"),r[u].user_stories[m].label_text=_+" - "+v.key+" ("+v.status+") "+v.summary,r[u].user_stories[m].completed=b===h,f+=r[u].user_stories[m].summedStoryPoints,d+=r[u].user_stories[m].summedBurnedStoryPoints,p.push(r[u].user_stories[m])}r[u].summedStoryPoints=f,r[u].summedBurnedStoryPoints=d,l>1&&(p=p.sort(function(t,e){return t.rank===e.rank?0:t.rank<e.rank?-1:1})),r[u].user_stories=p,t.epics.push(r[u]),s+=f,a+=d}c+=l}t.project.progressPercantage=0===s?0:Math.round(100*a/s),o(e.forGlobalState),t.project.numUserStories=c,t.project.numPoints=s,t.project.numBurnedPoints=a,t.exceptions=e.forGlobalState.exceptions,t.stories=e.forGlobalState.stories,t.project.sprints=e.forGlobalState.sprints,t.epics=t.epics.sort(function(t,e){return t.rank===e.rank?0:t.rank<e.rank?-1:1});for(var S in t.project.sprints)t.project.sprints[S].epics=t.project.sprints[S].epics.sort(function(t,e){return t.rank===e.rank?0:t.rank<e.rank?-1:1})},SAVE_JIRADATA:function(t,e){t.srcJiraData=e.srcJiraData}},b={status_txt:function(t,e){return 0===t.state?"Created":1===t.state?"Loading":2===t.state?"Loaded":3===t.state?"Error":"Unknown"},epics:function(t,e){return t.epics},exceptions:function(t,e){return t.exceptions},project:function(t,e){return t.project},srcJiraData:function(t,e){return t.srcJiraData}},y={setSelectedProjects:function(t,e){if(k.a.joinStringArray(_.srcJiraData.epicProjects)===k.a.joinStringArray(e.projects))return void e.callback.OKcallback.method({msg:"OK"},e.callback.OKcallback.params);t.commit("SAVE_JIRADATA",{srcJiraData:{epicProjects:e.projects,storyProjects:e.projects,taskProjects:e.projects}});var r={OKcallback:{method:function(t,r){e.callback.OKcallback.method({msg:"OK"},e.callback.OKcallback.params)},params:{}},FAILcallback:{method:s,params:{commit:t.commit,callback:e.callback}}};t.dispatch("loadJIRAdata",{callback:r})},loadJIRAdata:function(t,e){var r=t.commit,n=t.state;r("START_LOADING");var o={OKcallback:{method:function(t,e){for(var r={epics:[],exceptions:[],sprints:{},state:n},o=0;o<t.length;o++)r.epics[t[o].key]={id:t[o].id,key:t[o].key,name:t[o].fields.customfield_10801,user_stories:[],summedStoryPoints:0,summedBurnedStoryPoints:0,rank:t[o].fields.customfield_11000};a(e.commit,r,e.callback)},params:{state:n,commit:r,callback:e.callback}},FAILcallback:{method:s,params:{commit:r,callback:e.callback}}};v.a.dispatch("query",{jql:k.a.getIssueRetervialJQL(n.srcJiraData.epicProjects,["Epic"]),callback:o})}};d.a.use(m.a),e.a=new m.a.Store({state:_,mutations:h,getters:b,actions:y})},184:function(t,e,r){t.exports={default:r(185),__esModule:!0}},185:function(t,e,r){r(210),t.exports=r(174).Object.keys},186:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},187:function(t,e,r){var n=r(178);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},188:function(t,e,r){var n=r(181),o=r(206),s=r(205);t.exports=function(t){return function(e,r,a){var i,c=n(e),u=o(c.length),l=s(a,u);if(t&&r!=r){for(;u>l;)if((i=c[l++])!=i)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}}},189:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},190:function(t,e,r){var n=r(186);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},191:function(t,e,r){var n=r(178),o=r(177).document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},192:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},193:function(t,e,r){var n=r(177),o=r(174),s=r(190),a=r(195),i=function(t,e,r){var c,u,l,p=t&i.F,f=t&i.G,d=t&i.S,m=t&i.P,v=t&i.B,k=t&i.W,_=f?o:o[e]||(o[e]={}),h=_.prototype,b=f?n:d?n[e]:(n[e]||{}).prototype;f&&(r=e);for(c in r)(u=!p&&b&&void 0!==b[c])&&c in _||(l=u?b[c]:r[c],_[c]=f&&"function"!=typeof b[c]?r[c]:v&&u?s(l,n):k&&b[c]==l?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):m&&"function"==typeof l?s(Function.call,l):l,m&&((_.virtual||(_.virtual={}))[c]=l,t&i.R&&h&&!h[c]&&a(h,c,l)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,t.exports=i},194:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},195:function(t,e,r){var n=r(198),o=r(202);t.exports=r(175)?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},196:function(t,e,r){t.exports=!r(175)&&!r(176)(function(){return 7!=Object.defineProperty(r(191)("div"),"a",{get:function(){return 7}}).a})},197:function(t,e,r){var n=r(189);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},198:function(t,e,r){var n=r(187),o=r(196),s=r(208),a=Object.defineProperty;e.f=r(175)?Object.defineProperty:function(t,e,r){if(n(t),e=s(e,!0),n(r),o)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},199:function(t,e,r){var n=r(194),o=r(181),s=r(188)(!1),a=r(203)("IE_PROTO");t.exports=function(t,e){var r,i=o(t),c=0,u=[];for(r in i)r!=a&&n(i,r)&&u.push(r);for(;e.length>c;)n(i,r=e[c++])&&(~s(u,r)||u.push(r));return u}},200:function(t,e,r){var n=r(199),o=r(192);t.exports=Object.keys||function(t){return n(t,o)}},201:function(t,e,r){var n=r(193),o=r(174),s=r(176);t.exports=function(t,e){var r=(o.Object||{})[t]||Object[t],a={};a[t]=e(r),n(n.S+n.F*s(function(){r(1)}),"Object",a)}},202:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},203:function(t,e,r){var n=r(204)("keys"),o=r(209);t.exports=function(t){return n[t]||(n[t]=o(t))}},204:function(t,e,r){var n=r(177),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},205:function(t,e,r){var n=r(180),o=Math.max,s=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):s(t,e)}},206:function(t,e,r){var n=r(180),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},207:function(t,e,r){var n=r(179);t.exports=function(t){return Object(n(t))}},208:function(t,e,r){var n=r(178);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},209:function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},210:function(t,e,r){var n=r(207),o=r(200);r(201)("keys",function(){return function(t){return o(n(t))}})},216:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(131),o=r(183),s=r(5);r.n(s);e.default={data:function(){return{}},computed:{server_info_load_error_data:function(){return n.a.state.server_info_load_error_data},backroute:function(){if("/"===this.$route.path)return"";var t=this.$route.path.split("/"),e="";for(var r in t)r<t.length-1&&(e+="/"+t[r]);return e.substring(1)},pageTitle:function(){return n.a.state.pageTitle},numexceptions:function(){return o.a.getters.exceptions.length}},created:function(){s.Loading.show();var t={OKcallback:{method:function(t,e){s.Loading.hide()},params:{}},FAILcallback:{method:function(t,e){s.Loading.hide(),s.Toast.create('Failed to log in "'+t.msg+'"')},params:{}}};o.a.dispatch("loadJIRAdata",{callback:t})},methods:{refresh:function(){s.Loading.show();var t={OKcallback:{method:function(t,e){s.Loading.hide()},params:{}},FAILcallback:{method:function(t,e){s.Loading.hide(),s.Toast.create('Failed to get data "'+t.msg+'"')},params:{}}};o.a.dispatch("loadJIRAdata",{callback:t})}}}},224:function(t,e,r){e=t.exports=r(163)(void 0),e.push([t.i,".logo-container{width:192px;height:268px;-webkit-perspective:800px;perspective:800px;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.logo{position:absolute;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}",""])},233:function(t,e,r){var n=r(224);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r(164)("e54015c8",n,!0)},242:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",[r("div",{staticClass:"toolbar",slot:"header"},[r("button",{staticClass:"hide-on-drawer-visible",on:{click:function(e){t.$refs.drawer.open()}}},[r("i",[t._v("menu")])]),t._v(" "),""!==t.backroute?r("button",{directives:[{name:"go-back",rawName:"v-go-back.single",value:t.backroute,expression:"backroute",modifiers:{single:!0}}],staticClass:"within-iframe-hide"},[r("i",[t._v("arrow_back")])]):t._e(),t._v(" "),r("q-toolbar-title",{attrs:{padding:1}},[t._v("\n        "+t._s(t.pageTitle)+"\n      ")]),t._v(" "),r("button",{on:{click:t.refresh}},[t._v("\n        Refresh\n      ")])],1),t._v(" "),r("q-drawer",{ref:"drawer"},[r("div",{staticClass:"toolbar light"},[r("q-toolbar-title",[t._v("\n          Navigation\n        ")])],1),t._v(" "),r("div",{staticClass:"list no-border platform-delimiter"},[r("q-drawer-link",{attrs:{icon:"home",to:{path:"/",exact:!0}}},[t._v("Home")]),t._v(" "),r("q-drawer-link",{attrs:{icon:"directions_run",to:{path:"/sprints",exact:!0}}},[t._v("Sprints")]),t._v(" "),r("q-drawer-link",{attrs:{icon:"pie_chart",to:{path:"/progress",exact:!0}}},[t._v("Progress")]),t._v(" "),0===t.numexceptions?r("q-drawer-link",{attrs:{icon:"bug_report",to:{path:"/exceptions",exact:!0}}},[t._v("Exceptions")]):t._e(),t._v(" "),0!==t.numexceptions?r("q-drawer-link",{attrs:{icon:"bug_report",to:{path:"/exceptions",exact:!0}}},[r("b",[t._v("Exceptions ("+t._s(t.numexceptions)+")")])]):t._e(),t._v(" "),r("hr"),t._v(" "),r("q-drawer-link",{attrs:{icon:"group_work",to:{path:"/test",exact:!0}}},[t._v("TEST2")]),t._v(" "),r("hr"),t._v(" "),r("q-drawer-link",{attrs:{icon:"find_replace",to:{path:"/changeproject",exact:!0}}},[t._v("Change Project")]),t._v(" "),r("q-drawer-link",{attrs:{icon:"exit_to_app",to:{path:"/logout",exact:!0}}},[t._v("Logout")])],1)]),t._v(" "),r("router-view",{staticClass:"layout-view"}),t._v(" "),r("div",{staticClass:"toolbar",slot:"footer"})],1)},staticRenderFns:[]}}});